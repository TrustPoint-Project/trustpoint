{% load static %}
<script src="{% static 'js/dashboard/charts-tab.js' %}"></script>

<div class="row py-3 px-0">
  <h1>Charts</h1>
</div>
<!-- Chart row -->
<div class="row p-3 shadow">
  <!-- table  Tab Navigation -->
  <ul class="nav nav-tabs" id="chartTabs">
    <li class="nav-alert">
      <a class="nav-link active" data-bs-toggle="tab" href="#deviceChartTab">Device</a>
    </li>
    <li class="nav-alert">
      <a class="nav-link" data-bs-toggle="tab" href="#certChartTab">Certificate</a>
    </li>
    <li class="nav-alert">
      <a class="nav-link" data-bs-toggle="tab" href="#caChartTab">CA</a>
    </li>
  </ul>

  <!-- chart Tab Content -->
  <div class="tab-content px-0">
    
    <div class="text-end py-2">
      <button class="btn btn-blue" onclick="fetchAndUpdateDashboardChartData('today')">Today</button>
      <button class="btn btn-blue" onclick="fetchAndUpdateDashboardChartData('last_week')">Last Week</button>
      <button class="btn btn-blue" onclick="fetchAndUpdateDashboardChartData('last_month')">Last Month</button>
      <button class="btn btn-blue" onclick="fetchAndUpdateDashboardChartData('life')">Life</button>
    </div>
    <!-- device chart tab content -->
    <div class="tab-pane fade show active" id="deviceChartTab">
      <div class="row p-3">
        <div class="col-5 px-3 shadow">
          <h2 class="p-2">Devices by onboarding status</h2>
          <canvas id="devicesByOSLineChart" class="pb-2" width="400" height="200"></canvas>
        </div>
        <div class="col-3 px-3 shadow">
          <h2 class="p-2">Active devices by Domain</h2>
          <canvas id="devicesByDomainDonutChart" class="pb-2"  width="200" height="200"></canvas>
        </div>
        <div class="col-4 shadow">
          <h2 class="p-2">devices by onboarding protocol</h2>
          <canvas id="devicesByOPBarChart" class="pb-2"  width="400" height="200"></canvas>
        </div>
      </div>
    </div>
    <!-- certificate chart tab content -->
    <div class="tab-pane fade" id="certChartTab">
      <div class="row p-3">
        <div class="col-5 shadow">
          <h2 class="p-2">Certificates By Status</h2>
          <canvas id="certsByStatusLineChart" class="pb-2"  width="400" height="200"></canvas>
        </div>
        <div class="col-3 shadow">
          <h2 class="p-2">Certificates By Domain</h2>
          <canvas id="certsByDomainPieChart" class="pb-2"  width="200" height="200"></canvas>
        </div>
        <div class="col-4 shadow">
          <h2 class="p-2">Certificates By Template</h2>
          <canvas id="certsByTemplateBarChart" class="pb-2"  width="400" height="200"></canvas>
        </div>
      </div>
    </div>
    <!-- CA chart tab content -->
    <div class="tab-pane fade" id="caChartTab">
      <div class="row p-3">
        {% comment %} <div class="col-3 shadow">
          <div class="row py-3">
            <div class="col-5"><h2>Issuing CA 1</h2></div>
            <div class="col-7">
              <div
                class="progress col-12 p-0"
                role="progressbar"
                aria-valuenow="23"
                aria-valuemin="0"
                aria-valuemax="100"
              >
                <div class="progress-bar progress-bar-striped" style="width: 23%"></div>
              </div>
            </div>
          </div>
          <div class="row py-3">
            <div class="col-5"><h2>Issuing CA 2</h2></div>
            <div class="col-7">
              <div
                class="progress col-12 p-0"
                role="progressbar"
                aria-valuenow="66"
                aria-valuemin="0"
                aria-valuemax="100"
              >
                <div class="progress-bar progress-bar-striped bg-warning" style="width: 66%"></div>
              </div>
            </div>
          </div>
          <div class="row py-3">
            <div class="col-5"><h2>Issuing CA 3</h2></div>
            <div class="col-7">
              <div
                class="progress col-12 p-0"
                role="progressbar"
                aria-valuenow="92"
                aria-valuemin="0"
                aria-valuemax="100"
              >
                <div class="progress-bar progress-bar-striped bg-danger" style="width: 92%"></div>
              </div>
            </div>
          </div>
        </div> {% endcomment %}
        <div class="col-3 shadow">
          <h2 class="p-2">Certificates By Issuing CA</h2>
          <canvas id="certsByIssuingCADonutChart" class="pb-2"  width="200" height="200"></canvas>
        </div>
        <div class="col-6 shadow">
          <h2 class="p-2">Issued Certificates</h2>
          <canvas id="certsByDateStackChart" class="pb-2"  width="400" height="200"></canvas>
        </div>
        <div class="col-3 shadow">
          <h2 class="p-2">Issuing CAs By Type</h2>
          <canvas id="issuingCAsByTypePieChart" class="pb-2"  width="200" height="200"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>
